.theme-scope {
/* Forms */
input[type=text],
input[type=email],
input[type=password],
input[type=number],
input[type=url],
input[type=search],
input[type=tel],
input[type=date],
input[type=time],
input[type=datetime-local],
input[type=month],
input[type=week],
input[type=file],
textarea,
select,
.form-input,
.form-select {
display: block;
width: 100%;
margin: 0;
padding: 0.5rem 0.625rem; /* Adjusted padding for better height */
font-size: var(--text-sm);
line-height: var(--leading-normal);
color: var(--color-text-primary);
background-color: var(--color-bg-primary);
border: 1px solid var(--color-border-light);
border-radius: var(--radius-md);
transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

/* Specificity override for Tailwind padding utilities */
.form-input.pl-10 {
padding-left: 2.5rem;
}

/* Border radius overrides for connected inputs (e.g., chat input with toolbar) */
.form-input.rounded-none,
textarea.form-input.rounded-none,
input.form-input.rounded-none {
border-radius: 0;
}

.form-input.rounded-t-none,
textarea.form-input.rounded-t-none,
input.form-input.rounded-t-none {
border-top-left-radius: 0;
border-top-right-radius: 0;
}

.form-input.rounded-b-none,
textarea.form-input.rounded-b-none,
input.form-input.rounded-b-none {
border-bottom-left-radius: 0;
border-bottom-right-radius: 0;
}

input[type=text]:focus,
input[type=email]:focus,
input[type=password]:focus,
input[type=number]:focus,
input[type=url]:focus,
input[type=search]:focus,
input[type=tel]:focus,
input[type=date]:focus,
input[type=time]:focus,
input[type=datetime-local]:focus,
input[type=month]:focus,
input[type=week]:focus,
input[type=file]:focus,
textarea:focus,
select:focus,
.form-input:focus {
outline: none;
border-color: var(--color-primary);
box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

input[type=text]:disabled,
input[type=email]:disabled,
input[type=password]:disabled,
input[type=number]:disabled,
input[type=url]:disabled,
input[type=search]:disabled,
input[type=tel]:disabled,
input[type=date]:disabled,
input[type=time]:disabled,
input[type=datetime-local]:disabled,
input[type=month]:disabled,
input[type=week]:disabled,
input[type=file]:disabled,
textarea:disabled,
select:disabled,
.form-input:disabled {
background-color: var(--color-bg-secondary);
color: var(--color-text-muted);
cursor: not-allowed;
}

input[readonly],
textarea[readonly],
.form-input[readonly] {
background-color: var(--color-bg-secondary);
color: var(--color-text-secondary);
}

/* Textarea auto-grow */
textarea {
resize: vertical;
min-height: 80px;
overflow: hidden;
}

textarea.no-auto-grow {
resize: both;
overflow: auto;
}

/* Select dropdown arrow - matches button dropdown chevron style */
select,
.form-select {
appearance: none;
-webkit-appearance: none;
-moz-appearance: none;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'%3E%3Cpath fill='%236b7280' d='M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'/%3E%3C/svg%3E");
background-repeat: no-repeat;
background-position: right 0.5rem center;
background-size: 1.25rem 1.25rem;
padding-right: 2.5rem;
}

select:disabled,
.form-select:disabled {
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'%3E%3Cpath fill='%23cbd5e1' d='M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'/%3E%3C/svg%3E");
}

/* Labels */
label,
.form-label {
display: block;
margin-bottom: 0.5rem;
font-weight: var(--font-medium);
color: var(--color-text-primary);
font-size: var(--text-sm);
}

/* Inline label - for use alongside checkboxes, radios, toggles */
.form-label-inline,
.form-label.inline {
display: inline;
margin-bottom: 0;
}

/* Checkbox/Radio field wrapper - inline label + input pattern */
.field-check,
label.field-check {
display: flex;
align-items: flex-start;
gap: 0.5rem;
cursor: pointer;
margin-bottom: 0;
}

.field-check.items-center {
align-items: center;
}

.field-check input[type=checkbox],
.field-check input[type=radio] {
margin-top: 0.125rem; /* Align with first line of text */
flex-shrink: 0;
}

.field-check.items-center input[type=checkbox],
.field-check.items-center input[type=radio] {
margin-top: 0;
}

.field-check > span,
.field-check > div {
flex: 1;
}

.field-check .field-check-label {
font-weight: var(--font-medium);
font-size: var(--text-sm);
color: var(--color-text-primary);
line-height: 1.25;
}

.field-check .field-check-description {
font-size: var(--text-sm);
color: var(--color-text-muted);
margin-top: 0.25rem;
}

/* Checkboxes and Radio Buttons */
input[type=checkbox],
input[type=radio],
.form-checkbox,
.form-radio {
display: inline-block;
width: 1rem;
height: 1rem;
min-width: 1rem;
flex-shrink: 0;
background-color: var(--color-control-bg);
border: 1px solid var(--color-control-border);
border-radius: var(--radius-sm);
cursor: pointer;
transition: all 0.15s ease-in-out;
accent-color: var(--color-control-checked);
}

input[type=radio] {
border-radius: 50%;
}

input[type=checkbox]:hover,
input[type=radio]:hover {
background-color: var(--color-control-bg-hover);
border-color: var(--color-control-border-hover);
}

input[type=checkbox]:checked,
input[type=radio]:checked {
background-color: var(--color-control-checked);
border-color: var(--color-control-checked-border);
}

input[type=checkbox]:checked:hover,
input[type=radio]:checked:hover {
background-color: var(--color-control-checked-hover);
border-color: var(--color-control-checked-hover);
}

input[type=checkbox]:focus,
input[type=radio]:focus {
outline: none;
box-shadow: 0 0 0 3px var(--color-control-ring);
}

/* Range Slider */
input[type=range],
.form-range {
width: 100%;
height: 0.25rem;
background: var(--color-border-light);
border-radius: var(--radius-full);
outline: none;
cursor: pointer;
appearance: none;
-webkit-appearance: none;
}

input[type=range]::-webkit-slider-runnable-track,
.form-range::-webkit-slider-runnable-track {
width: 100%;
height: 0.25rem;
background: var(--color-border-light);
border-radius: var(--radius-full);
}

input[type=range]::-webkit-slider-thumb,
.form-range::-webkit-slider-thumb {
appearance: none;
-webkit-appearance: none;
width: 1rem;
height: 1rem;
background: var(--color-bg-primary);
border: 2px solid var(--color-primary);
border-radius: 50%;
cursor: pointer;
margin-top: -0.375rem;
box-shadow: var(--shadow-sm);
transition: box-shadow 0.15s ease-in-out;
}

input[type=range]::-webkit-slider-thumb:hover,
.form-range::-webkit-slider-thumb:hover {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
}

input[type=range]::-webkit-slider-thumb:active,
.form-range::-webkit-slider-thumb:active {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
}

input[type=range]::-moz-range-track,
.form-range::-moz-range-track {
width: 100%;
height: 0.25rem;
background: var(--color-border-light);
border-radius: var(--radius-full);
border: none;
}

input[type=range]::-moz-range-thumb,
.form-range::-moz-range-thumb {
width: 1rem;
height: 1rem;
background: var(--color-bg-primary);
border: 2px solid var(--color-primary);
border-radius: 50%;
cursor: pointer;
box-shadow: var(--shadow-sm);
transition: box-shadow 0.15s ease-in-out;
}

input[type=range]::-moz-range-thumb:hover,
.form-range::-moz-range-thumb:hover {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
}

input[type=range]::-moz-range-thumb:active,
.form-range::-moz-range-thumb:active {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
}

input[type=range]:focus,
.form-range:focus {
outline: none;
}

input[type=range]:focus::-webkit-slider-thumb,
.form-range:focus::-webkit-slider-thumb {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
}

input[type=range]:focus::-moz-range-thumb,
.form-range:focus::-moz-range-thumb {
box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
}

/* Toggle Switch */
input[type=checkbox].form-toggle {
  appearance: none;
  width: 2.75rem;
  height: 1.5rem;
  background-color: var(--color-toggle-bg);
  border-radius: var(--radius-full);
  position: relative;
  cursor: pointer;
  outline: none;
  transition: background-color 0.2s ease-in-out;
  border: none;
  flex-shrink: 0; /* Prevent squashing in flex containers */
  box-sizing: border-box;
  margin: 0;
}

.form-toggle::after {
content: "";
position: absolute;
top: 0.125rem;
left: 0.125rem;
width: 1.25rem;
height: 1.25rem;
background-color: var(--color-toggle-knob);
border-radius: 50%;
box-shadow: var(--shadow-sm);
transition: transform 0.2s ease-in-out;
}

input[type=checkbox].form-toggle:checked {
background-color: var(--color-toggle-bg-checked);
border-color: transparent;
}

.form-toggle:checked::after {
transform: translateX(1.25rem);
}

input[type=checkbox].form-toggle:focus {
box-shadow: 0 0 0 3px var(--color-control-ring);
}

input[type=checkbox].form-toggle:disabled {
opacity: 0.5;
cursor: not-allowed;
}

/* Input Group */
.input-group {
display: flex;
position: relative;
width: 100%;
align-items: stretch;
}

.input-group-text {
display: flex;
align-items: center;
padding: 0.5rem 0.625rem;
font-size: var(--text-sm);
font-weight: 400;
line-height: var(--leading-normal);
color: var(--color-text-secondary);
text-align: center;
white-space: nowrap;
background-color: var(--color-bg-secondary);
border: 1px solid var(--color-border-light);
border-radius: var(--radius-md);
}

/* Remove margin from labels inside or as input-group-text */
label.input-group-text,
.form-label.input-group-text,
.input-group-text label,
.input-group-text .form-label {
margin-bottom: 0;
}

.input-group .form-input,
.input-group .form-select {
flex: 1 1 auto;
width: 1%;
min-width: 0;
border-radius: var(--radius-md);
}

.input-group textarea {
min-height: auto;
height: auto;
}

.input-group > :not(:first-child) {
margin-left: -1px;
border-top-left-radius: 0;
border-bottom-left-radius: 0;
}

.input-group > :not(:last-child) {
border-top-right-radius: 0;
border-bottom-right-radius: 0;
}

.input-group .form-input:focus,
.input-group .form-select:focus,
.input-group .btn-primary:focus,
.input-group .btn-secondary:focus,
.input-group .action-btn:focus {
z-index: 20;
position: relative;
}

.input-group .btn-primary,
.input-group .btn-secondary,
.input-group .action-btn {
position: relative;
z-index: 10;
}
}